
local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local up = Instance.new("TextButton")
local down = Instance.new("TextButton")
local onof = Instance.new("TextButton")
local plus = Instance.new("TextButton")
local speed = Instance.new("TextLabel")
local mine = Instance.new("TextButton")
local closebutton = Instance.new("TextButton")

-- Parent GUI
main.Name = "main"
main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
main.ResetOnSpawn = false

-- Frame utama
Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.Size = UDim2.new(0, 250, 0, 180)
Frame.Position = UDim2.new(0.1, 0, 0.3, 0)
Frame.Active = true
Frame.Draggable = true

-- Rounded corner + stroke
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = Frame

local UIStroke = Instance.new("UIStroke")
UIStroke.Thickness = 2
UIStroke.Color = Color3.fromRGB(0, 170, 255)
UIStroke.Parent = Frame

-- Title
Title.Parent = Frame
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, -40, 0, 35)
Title.Font = Enum.Font.GothamBold
Title.Text = "âš¡ Fly | @NazamOfficial"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Position = UDim2.new(0, 10, 0, 0)

-- Close button
closebutton.Name = "Close"
closebutton.Parent = Frame
closebutton.Size = UDim2.new(0, 28, 0, 28)
closebutton.Position = UDim2.new(1, -35, 0, 5)
closebutton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
closebutton.Text = "âœ•"
closebutton.Font = Enum.Font.GothamBold
closebutton.TextSize = 16
closebutton.TextColor3 = Color3.fromRGB(255, 255, 255)

local cornerClose = Instance.new("UICorner")
cornerClose.CornerRadius = UDim.new(1, 0)
cornerClose.Parent = closebutton

-- Style tombol function
local function styleButton(btn, text)
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.Size = UDim2.new(0, 100, 0, 35)
	btn.Font = Enum.Font.GothamBold
	btn.Text = text
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.TextSize = 16

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = btn

	local stroke = Instance.new("UIStroke")
	stroke.Thickness = 1.5
	stroke.Color = Color3.fromRGB(100, 100, 100)
	stroke.Parent = btn
end

-- Tombol naik
up.Parent = Frame
up.Position = UDim2.new(0, 15, 0, 50)
styleButton(up, "â¬† Naik")

-- Tombol turun
down.Parent = Frame
down.Position = UDim2.new(0, 15, 0, 95)
styleButton(down, "â¬‡ Turun")

-- Tombol terbang
onof.Parent = Frame
onof.Position = UDim2.new(0, 135, 0, 50)
styleButton(onof, "ðŸš€ Fly")

-- Speed label
speed.Parent = Frame
speed.Size = UDim2.new(0, 100, 0, 35)
speed.Position = UDim2.new(0, 135, 0, 95)
speed.Font = Enum.Font.GothamBold
speed.Text = "1"
speed.TextColor3 = Color3.fromRGB(255, 255, 255)
speed.TextSize = 18
speed.BackgroundColor3 = Color3.fromRGB(30, 30, 30)

local spCorner = Instance.new("UICorner")
spCorner.CornerRadius = UDim.new(0, 8)
spCorner.Parent = speed

local spStroke = Instance.new("UIStroke")
spStroke.Thickness = 1.5
spStroke.Color = Color3.fromRGB(0, 170, 255)
spStroke.Parent = speed

-- Tombol plus
plus.Parent = Frame
plus.Position = UDim2.new(0, 15, 0, 140)
styleButton(plus, "+")

-- Tombol minus
mine.Parent = Frame
mine.Position = UDim2.new(0, 135, 0, 140)
styleButton(mine, "-")

---------------------------------------------------
-- Bagian logic Fly
---------------------------------------------------
local speeds = 1
local speaker = game:GetService("Players").LocalPlayer
local chr = game.Players.LocalPlayer.Character
local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
local nowe = false
local tpwalking = false

-- Notification
game:GetService("StarterGui"):SetCore("SendNotification", { 
	Title = "Type | Fly";
	Text = "Developer TikTok : NazamOffcial1";
	Icon = "rbxthumb://type=Asset&id=109307269006494&w=150&h=150";
	Duration = 5;
})

-- Fungsi Fly
local function Fly()
	repeat wait()
		if not chr or not chr:FindFirstChild("HumanoidRootPart") then continue end
		local hrp = chr:FindFirstChild("HumanoidRootPart")
		local cam = workspace.CurrentCamera
		local moveDir = Vector3.new()
		if game.UserInputService:IsKeyDown(Enum.KeyCode.W) then
			moveDir = moveDir + cam.CFrame.LookVector
		end
		if game.UserInputService:IsKeyDown(Enum.KeyCode.S) then
			moveDir = moveDir - cam.CFrame.LookVector
		end
		if game.UserInputService:IsKeyDown(Enum.KeyCode.A) then
			moveDir = moveDir - cam.CFrame.RightVector
		end
		if game.UserInputService:IsKeyDown(Enum.KeyCode.D) then
			moveDir = moveDir + cam.CFrame.RightVector
		end
		if game.UserInputService:IsKeyDown(Enum.KeyCode.Space) then
			moveDir = moveDir + Vector3.new(0,1,0)
		end
		if game.UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
			moveDir = moveDir - Vector3.new(0,1,0)
		end
		hrp.Velocity = moveDir * (speeds * 20)
	until not nowe
end

-- Button function
onof.MouseButton1Click:Connect(function()
	nowe = not nowe
	if nowe then
		Fly()
	else
		if chr and chr:FindFirstChild("HumanoidRootPart") then
			chr.HumanoidRootPart.Velocity = Vector3.new(0,0,0)
		end
	end
end)

plus.MouseButton1Click:Connect(function()
	speeds = speeds + 1
	speed.Text = tostring(speeds)
end)

mine.MouseButton1Click:Connect(function()
	if speeds > 1 then
		speeds = speeds - 1
		speed.Text = tostring(speeds)
	end
end)

up.MouseButton1Down:Connect(function()
	if chr and chr:FindFirstChild("HumanoidRootPart") then
		chr.HumanoidRootPart.Velocity = Vector3.new(0, speeds * 20, 0)
	end
end)

down.MouseButton1Down:Connect(function()
	if chr and chr:FindFirstChild("HumanoidRootPart") then
		chr.HumanoidRootPart.Velocity = Vector3.new(0, -speeds * 20, 0)
	end
end)

-- Close â†’ FlyBtn
closebutton.MouseButton1Click:Connect(function()
	Frame.Visible = false

	local FlyBtn = Instance.new("TextButton")
	FlyBtn.Parent = main
	FlyBtn.Size = UDim2.new(0, 60, 0, 60)
	FlyBtn.Position = UDim2.new(0.05, 0, 0.6, 0)
	FlyBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	FlyBtn.Text = "âš¡"
	FlyBtn.Font = Enum.Font.GothamBold
	FlyBtn.TextSize = 30
	FlyBtn.TextColor3 = Color3.fromRGB(0, 170, 255)

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(1, 0)
	corner.Parent = FlyBtn

	local stroke = Instance.new("UIStroke")
	stroke.Thickness = 2
	stroke.Color = Color3.fromRGB(0, 170, 255)
	stroke.Parent = FlyBtn

	FlyBtn.MouseButton1Click:Connect(function()
		Frame.Visible = true
		FlyBtn:Destroy()
	end)
end)

-- Respawn handler
game.Players.LocalPlayer.CharacterAdded:Connect(function(c)
	chr = c
	hum = chr:WaitForChild("Humanoid")
end)
